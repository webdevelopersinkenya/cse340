<% /*
    This view contains a form for adding a new vehicle classification.
    It supports client-side validation, server-side error display, and flash messages.
*/ %>

<% /*
    The 'title' and 'nav' variables are passed from the controller
    and used by the main layout.ejs.
*/ %>

<div class="form-container">
    <h1><%= title %></h1>

    <%- messages() %> <%-- Displays flash messages --%>

    <% if (errors) { %>
        <ul class="notice">
            <% errors.forEach(error => { %>
                <li><%= error.msg %></li>
            <% }) %>
        </ul>
    <% } %>

    <form id="addClassificationForm" action="/inv/add-classification" method="post">
        <p class="form-direction">New classification name cannot contain spaces or special characters.</p>

        <label for="classification_name">Classification Name:</label>
        <input
            type="text"
            id="classification_name"
            name="classification_name"
            required
            pattern="^[A-Za-z0-9]+$" <%-- Client-side validation: no spaces/special chars --%>
            value="<%= typeof classification_name !== 'undefined' ? classification_name : '' %>" <%-- Sticky --%>
            autofocus
        />

        <button type="submit">Add Classification</button>
    </form>
</div>
